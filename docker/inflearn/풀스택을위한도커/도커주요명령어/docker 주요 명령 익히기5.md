# docker 주요 명령 익히기5 (컨테이너를 다루는 다양한 옵션)

## 7.3 나만의 웹서비스 docker 만들기 (-v 옵션 이해하기)

- 'It works'는 httpd 이미지의 apache 웹서버 기본 설정에 의해 /usr/local/apache2/htdocs 폴더에 있는 index.html에 적혀 있는 html 태그임
- 따라서 해당 폴더를 내가 원하는 index.html 파일로 교체한다면 나의 웹페이지를 보여줄 수 있음
- 호스트 PC 상에 나만의 index.html 파일이 있다면, -v 옵션을 사용해서, 호스트 PC의 특정 폴더를 docker 컨테이너의 특정 폴더로 교체할 수 있음
    - docker는 이미지를 기반으로 컨테이너를  만들기 때문에, 컨테이너 상에서 파일을 업데이트하거나, 생성할 경우, 컨테이너가 종료되면, 해당 파일은 없어지게 됨
        - 이를 보완하기 위해, 특정 폴더를 -v 옵션으로 교체하면, 해당 폴더는 호스트PC상에 있기 때문에, 컨테이너가 종료되더라도, 파일을 유지할 수 있음

Filezila

![Untitled](docker%20%E1%84%8C%E1%85%AE%E1%84%8B%E1%85%AD%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%20%E1%84%8B%E1%85%B5%E1%86%A8%E1%84%92%E1%85%B5%E1%84%80%E1%85%B55%20(%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%82%E1%85%A5%E1%84%85%E1%85%B3%E1%86%AF%20%E1%84%83%E1%85%A1%E1%84%85%E1%85%AE%E1%84%82%E1%85%B3%E1%86%AB%20%206424657cabb94c39965c9ef842828cd2/Untitled.png)

[사이트 관리자] → [New site]

프로토콜 : SFTP

호스트 : AWS 주소

로그온 유형 : 키파일

사용자 : ubuntu

키 파일 : aws pem파일

2021_DEV_HTML 업로드한다.

[연결]

```docker
pwd

ls

cd 2021_DEV_HTML

docker run -d -p 80:80 -v /home/ubuntu/2021_DEV_HTML:/usr/local/
apache2/htdocs --name apache2 httpd
```

aws 

![Untitled](docker%20%E1%84%8C%E1%85%AE%E1%84%8B%E1%85%AD%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%20%E1%84%8B%E1%85%B5%E1%86%A8%E1%84%92%E1%85%B5%E1%84%80%E1%85%B55%20(%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%82%E1%85%A5%E1%84%85%E1%85%B3%E1%86%AF%20%E1%84%83%E1%85%A1%E1%84%85%E1%85%AE%E1%84%82%E1%85%B3%E1%86%AB%20%206424657cabb94c39965c9ef842828cd2/Untitled%201.png)

포트 80 추가

### 결과

![Untitled](docker%20%E1%84%8C%E1%85%AE%E1%84%8B%E1%85%AD%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%20%E1%84%8B%E1%85%B5%E1%86%A8%E1%84%92%E1%85%B5%E1%84%80%E1%85%B55%20(%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%82%E1%85%A5%E1%84%85%E1%85%B3%E1%86%AF%20%E1%84%83%E1%85%A1%E1%84%85%E1%85%AE%E1%84%82%E1%85%B3%E1%86%AB%20%206424657cabb94c39965c9ef842828cd2/Untitled%202.png)